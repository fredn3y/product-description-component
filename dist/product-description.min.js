var __defProp=Object.defineProperty,__defNormalProp=(n,e,t)=>e in n?__defProp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,__publicField=(n,e,t)=>__defNormalProp(n,"symbol"!=typeof e?e+"":e,t);!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).ProductDescription={})}(this,(function(n){"use strict";class e{debug(n,...e){console.log(`[Debug] ${n}`,...e)}error(n,e){console.error(`[Error] ${n}`,e)}warn(n,...e){console.warn(`[Warning] ${n}`,...e)}}class t{constructor(){__publicField(this,"logger"),this.logger=new e}handleRenderError(n){const e=`Error rendering product description: ${n instanceof Error?n.message:"Unknown error"}`;return this.logger.error(e,n),e}handleJSONParseError(n){this.logger.error("JSON Parse Error",n)}}class i{constructor(n){__publicField(this,"content"),__publicField(this,"logger"),this.content=n,this.logger=new e}generateProductSchema(){const n={"@context":"https://schema.org","@type":"Product",name:this.content.title,description:this.content.description,image:this.content["image-url"]};if(this.content.features)try{const e=JSON.parse(this.content.features);e.length>0&&(n.additionalProperty=e.map((n=>({"@type":"PropertyValue",name:n}))))}catch(e){this.logger.warn("Invalid features format")}return this.content.price&&(n.offers={"@type":"Offer",price:this.content.price,priceCurrency:this.content.currency||"USD"}),JSON.stringify(n)}generateFallbackContent(){try{const n=this.content.features?JSON.parse(this.content.features):[];return`\n        <div class="product-seo-content">\n          <h2>${this.content.title||""}</h2>\n          <p>${this.content.description||""}</p>\n          ${n.length>0?`\n            <ul>\n              ${n.map((n=>`<li>${n}</li>`)).join("")}\n            </ul>\n          `:""}\n          ${this.content["image-url"]?`\n            <img src="${this.content["image-url"]}" \n                 alt="${this.content.title||"Product image"}"\n                 width="800" height="600"\n                 loading="lazy" />\n          `:""}\n        </div>\n      `}catch(n){return this.logger.error("Error generating fallback content",n),""}}}class o{constructor(){__publicField(this,"logger"),this.logger=new e}generateHighlightsSection(n){return this.logger.debug("Generating highlights section"),Object.entries(n.productHighlights||{}).map((([n,e])=>`\n      <div class="highlight-block">\n        <div class="highlight-content">\n          <h3 class="highlight-title">${e.title}</h3>\n          <p class="highlight-description">${e.description}</p>\n        </div>\n        ${e.image?`\n          <div class="highlight-image">\n            <img src="${e.image}" alt="${e.title}" loading="lazy">\n          </div>\n        `:""}\n      </div>\n    `)).join("")}generateSpecificationsSection(n){return this.logger.debug("Generating specifications section"),Object.entries(n.specifications??{}).map((([n,e])=>`\n      <div class="specs-row">\n        <div class="specs-label">${n.charAt(0).toUpperCase()+n.slice(1)}</div>\n        <div class="specs-value">${e}</div>\n      </div>\n    `)).join("")}generateContentsSection(n){var e;return this.logger.debug("Generating contents section"),((null==(e=n.contents)?void 0:e.colors)??[]).map((n=>`\n      <li class="contents-item">${n}</li>\n    `)).join("")}generateFullTemplate(n){return this.logger.debug("Generating full template",n),`\n      <article class="product-container" itemscope itemtype="https://schema.org/Product">\n        \x3c!-- Introduction Section --\x3e\n        <div class="product-intro" itemprop="description">\n          ${n.description||n.introduction||n.productName||""}\n        </div>\n\n        \x3c!-- Product Highlights Section --\x3e\n        <section class="product-highlights">\n          ${this.generateHighlightsSection(n)}\n        </section>\n\n        \x3c!-- Features & Specifications Section --\x3e\n        <section class="specifications-section">\n          <h2 class="section-title">Features & Specifications</h2>\n          <div class="specs-table">\n            ${this.generateSpecificationsSection(n)}\n          </div>\n        </section>\n\n        \x3c!-- Contents Section --\x3e\n        <section class="contents-section">\n          <h2 class="section-title">Package Contents</h2>\n          <ul class="contents-list">\n            ${this.generateContentsSection(n)}\n          </ul>\n        </section>\n      </article>\n    `}}const r={"feature-heavy":'\n  .product-container {\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n    padding: clamp(24px, 5%, 48px);\n    max-width: 1200px;\n    margin: 0 auto;\n    font-family: var(--pd-font-family, inherit);\n  }\n\n  /* Introduction Section */\n  .product-intro {\n    font-size: var(--pd-description-font-size, 1.125rem);\n    line-height: 1.75;\n    color: var(--pd-description-color, #374151);\n    margin-bottom: 64px;\n    max-width: 70ch;\n  }\n\n  /* Product Highlights Section */\n  .product-highlights {\n    margin: 64px 0;\n    display: flex;\n    flex-direction: column;\n    gap: 64px;\n  }\n\n  .highlight-block {\n    display: flex;\n    align-items: center;\n    gap: clamp(32px, 6%, 64px);\n    margin: 0;\n  }\n\n  .highlight-block:nth-child(even) {\n    flex-direction: row-reverse;\n  }\n\n  .highlight-content {\n    flex: 1 1 50%;\n    min-width: 300px;\n  }\n\n  .highlight-image {\n    flex: 1 1 50%;\n    min-width: 300px;\n    border-radius: 12px;\n    overflow: hidden;\n    box-shadow: 0 8px 16px rgba(0,0,0,0.1);\n    aspect-ratio: 16/10;\n  }\n\n  .highlight-image img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    display: block;\n    transition: transform 0.3s ease;\n  }\n\n  .highlight-image:hover img {\n    transform: scale(1.05);\n  }\n\n  h3.highlight-title {\n    font-size: var(--pd-title-font-size, 1.75rem);\n    font-weight: var(--pd-title-font-weight, 600);\n    color: var(--pd-title-color, #1f2937);\n    margin: 0 0 20px 0;\n    line-height: 1.3;\n  }\n\n  .highlight-description {\n    color: var(--pd-description-color, #4b5563);\n    font-size: var(--pd-description-font-size, 1.125rem);\n    line-height: 1.7;\n    margin: 0;\n  }\n\n  /* Specifications Section */\n  .specifications-section {\n    margin: 64px 0;\n    background: #f8fafc;\n    padding: 32px;\n    border-radius: 12px;\n  }\n\n  h2.section-title {\n    font-size: var(--pd-title-font-size, 2rem);\n    font-weight: var(--pd-title-font-weight, 600);\n    color: var(--pd-title-color, #1f2937);\n    margin: 0 0 32px 0;\n    padding-bottom: 16px;\n    border-bottom: 2px solid #e2e8f0;\n  }\n\n  .specs-table {\n    display: grid;\n    gap: 1px;\n    background: #e2e8f0;\n    border-radius: 8px;\n    overflow: hidden;\n  }\n\n  .specs-row {\n    display: grid;\n    grid-template-columns: minmax(200px, 1fr) 2fr;\n    background: white;\n  }\n\n  .specs-label {\n    padding: 16px 24px;\n    font-weight: 500;\n    color: var(--pd-title-color, #374151);\n    background: #f1f5f9;\n  }\n\n  .specs-value {\n    padding: 16px 24px;\n    color: var(--pd-description-color, #4b5563);\n    background: white;\n  }\n\n  /* Contents Section */\n  .contents-section {\n    margin: 64px 0;\n  }\n\n  .contents-list {\n    list-style: none;\n    padding: 0;\n    margin: 24px 0 0 0;\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n    gap: 16px;\n  }\n\n  .contents-item {\n    padding: 16px 20px;\n    background: #f8fafc;\n    border-radius: 8px;\n    color: var(--pd-features-color, #374151);\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    transition: all 0.2s ease;\n  }\n\n  .contents-item:hover {\n    background: #f1f5f9;\n    transform: translateY(-2px);\n  }\n\n  .contents-item::before {\n    content: "✓";\n    color: #10b981;\n    font-weight: bold;\n    font-size: 1.1em;\n  }\n\n  @media (max-width: 1024px) {\n    .highlight-block,\n    .highlight-block:nth-child(even) {\n      gap: 32px;\n    }\n\n    h3.highlight-title {\n      font-size: clamp(1.5rem, 4vw, 1.75rem);\n    }\n\n    .specifications-section {\n      padding: 24px;\n    }\n  }\n\n  @media (max-width: 768px) {\n    .product-container {\n      padding: clamp(20px, 4%, 32px);\n    }\n\n    .highlight-block,\n    .highlight-block:nth-child(even) {\n      flex-direction: column;\n      gap: 24px;\n    }\n\n    .highlight-content,\n    .highlight-image {\n      width: 100%;\n      min-width: 100%;\n    }\n\n    .specs-row {\n      grid-template-columns: 1fr;\n    }\n\n    .specs-label {\n      background: #f1f5f9;\n    }\n\n    .contents-list {\n      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n    }\n\n    h2.section-title {\n      font-size: clamp(1.5rem, 5vw, 2rem);\n    }\n  }\n\n  @media (max-width: 480px) {\n    .product-container {\n      padding: 16px;\n    }\n\n    .product-highlights {\n      gap: 48px;\n    }\n\n    .specifications-section {\n      padding: 16px;\n      margin: 48px 0;\n    }\n\n    .specs-label,\n    .specs-value {\n      padding: 12px 16px;\n    }\n\n    .contents-list {\n      grid-template-columns: 1fr;\n    }\n\n    .contents-item {\n      padding: 12px 16px;\n    }\n  }\n',simple:'\n  .product-container {\n    background: white;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0,0,0,0.05);\n    padding: clamp(24px, 5%, 48px);\n    max-width: 1200px;\n    margin: 0 auto;\n    font-family: var(--pd-font-family, inherit);\n  }\n\n  /* Introduction Section */\n  .product-intro {\n    font-size: var(--pd-description-font-size, 1.125rem);\n    line-height: 1.75;\n    color: var(--pd-description-color, #374151);\n    margin-bottom: 32px;\n    max-width: 70ch;\n  }\n\n  /* Product Highlights Section */\n  .product-highlights {\n    margin: 32px 0;\n  }\n\n  .highlight-block {\n    margin-bottom: 24px;\n    padding: 20px;\n    background: #f8fafc;\n    border-radius: 8px;\n  }\n\n  h3.highlight-title {\n    font-size: var(--pd-title-font-size, 1.25rem);\n    font-weight: var(--pd-title-font-weight, 600);\n    color: var(--pd-title-color, #1f2937);\n    margin: 0 0 12px 0;\n  }\n\n  .highlight-description {\n    color: var(--pd-description-color, #4b5563);\n    font-size: var(--pd-description-font-size, 1rem);\n    line-height: 1.6;\n    margin: 0;\n  }\n\n  .highlight-image {\n    display: none;\n  }\n\n  /* Specifications Section */\n  .specifications-section {\n    margin: 32px 0;\n  }\n\n  h2.section-title {\n    font-size: var(--pd-title-font-size, 1.5rem);\n    font-weight: var(--pd-title-font-weight, 600);\n    color: var(--pd-title-color, #1f2937);\n    margin: 0 0 20px 0;\n    padding-bottom: 12px;\n    border-bottom: 2px solid #e2e8f0;\n  }\n\n  .specs-table {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .specs-row {\n    display: block;\n    margin-bottom: 12px;\n    color: var(--pd-description-color, #4b5563);\n  }\n\n  .specs-label {\n    font-weight: 500;\n    color: var(--pd-title-color, #374151);\n    margin-right: 8px;\n  }\n\n  .specs-label::after {\n    content: ":";\n  }\n\n  .specs-value {\n    display: inline;\n  }\n\n  /* Contents Section */\n  .contents-section {\n    margin: 32px 0;\n  }\n\n  .contents-list {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .contents-item {\n    color: var(--pd-features-color, #374151);\n    padding: 8px 0;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .contents-item::before {\n    content: "•";\n    color: #3b82f6;\n    font-size: 1.5em;\n    line-height: 1;\n  }\n\n  @media (max-width: 768px) {\n    .product-container {\n      padding: clamp(20px, 4%, 32px);\n    }\n\n    h2.section-title {\n      font-size: clamp(1.25rem, 4vw, 1.5rem);\n    }\n  }\n\n  @media (max-width: 480px) {\n    .product-container {\n      padding: 16px;\n    }\n\n    .highlight-block {\n      padding: 16px;\n    }\n  }\n'};class s{getThemeStyles(n){return r[n]?r[n]:(console.warn(`Theme "${n}" not found, defaulting to simple theme`),r.simple)}validateTheme(n){return null!==n&&["feature-heavy","simple"].includes(n)}}const a=class n extends HTMLElement{constructor(){super(),__publicField(this,"_content"),__publicField(this,"_error"),__publicField(this,"_theme"),__publicField(this,"_shadow"),__publicField(this,"logger"),__publicField(this,"errorHandler"),__publicField(this,"themeManager"),__publicField(this,"templateGenerator"),this._shadow=this.attachShadow({mode:"open"}),this._content={},this._error=null,this._theme="simple",this.logger=new e,this.errorHandler=new t,this.themeManager=new s,this.templateGenerator=new o,this.render()}static get observedAttributes(){return["title","description","features","image-url","theme","price","currency","data"]}attributeChangedCallback(n,e,t){e!==t&&("theme"===n&&this.themeManager.validateTheme(t)?this._theme=t:this._content[n]=t??void 0,this.render())}generateStyles(){return`\n      ${n.globalStyles}\n      :host {\n        display: block;\n        font-family: var(--pd-font-family, system-ui, -apple-system, sans-serif);\n        max-width: var(--pd-max-width, 800px);\n        margin: 0 auto;\n        padding: var(--pd-padding, 20px);\n        box-sizing: border-box;\n      }\n      .product-seo-content {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        padding: 0;\n        margin: -1px;\n        overflow: hidden;\n        clip: rect(0, 0, 0, 0);\n        white-space: nowrap;\n        border: 0;\n      }\n      .error-message {\n        color: var(--pd-error-color, #dc2626);\n        padding: 10px;\n        background: var(--pd-error-bg, #fee2e2);\n        border-radius: 4px;\n        margin: 10px 0;\n      }\n      ${this.themeManager.getThemeStyles(this._theme)}\n    `}render(){this.logger.debug("Rendering with theme:",this._theme);try{const n=this._content.data?JSON.parse(this._content.data):{};this.logger.debug("Parsed data:",n);const e=new i(this._content),t=document.createElement("script");t.type="application/ld+json",t.textContent=e.generateProductSchema(),document.head.appendChild(t);const o=this.templateGenerator.generateFullTemplate(n);this.logger.debug("Generated content:",o),this._shadow.innerHTML=`\n        <style>${this.generateStyles()}</style>\n        ${e.generateFallbackContent()}\n        ${o}\n      `}catch(n){this._error=this.errorHandler.handleRenderError(n),this._shadow.innerHTML=`\n        <style>${this.generateStyles()}</style>\n        <div class="error-message">${this._error}</div>\n      `}}static setGlobalStyles(e){this.globalStyles=`\n      :host {\n        ${e.fontFamily?`--pd-font-family: ${e.fontFamily};`:""}\n        ${e.titleColor?`--pd-title-color: ${e.titleColor};`:""}\n        ${e.titleFontSize?`--pd-title-font-size: ${e.titleFontSize};`:""}\n        ${e.descriptionColor?`--pd-description-color: ${e.descriptionColor};`:""}\n        ${e.descriptionFontSize?`--pd-description-font-size: ${e.descriptionFontSize};`:""}\n        ${e.featuresColor?`--pd-features-color: ${e.featuresColor};`:""}\n      }\n    `,document.querySelectorAll("product-description").forEach((e=>{e instanceof n&&e.render()}))}static resetGlobalStyles(){this.globalStyles="",document.querySelectorAll("product-description").forEach((e=>{e instanceof n&&e.render()}))}};__publicField(a,"globalStyles","");let l=a;customElements.define("product-description",l),n.ProductDescription=l,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}));
//# sourceMappingURL=product-description.min.js.map
