class ProductDescription extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._content={},this._error=null,this._theme="default",this.render()}static get observedAttributes(){return["title","description","features","image-url","theme","price","currency"]}attributeChangedCallback(e,t,n){t!==n&&("theme"===e?this._theme=n:this._content[e]=n,this.render())}generateSchema(){const e={@context:"https://schema.org",@type:"Product",name:this._content.title,description:this._content.description,image:this._content["image-url"]};if(this._content.features)try{const t=JSON.parse(this._content.features);t.length>0&&(e.additionalProperty=t.map(e=>({@type:"PropertyValue",name:e})))}catch(e){console.warn("Invalid features format")}return this._content.price&&(e.offers={@type:"Offer",price:this._content.price,priceCurrency:this._content.currency||"USD"}),JSON.stringify(e)}generateFallbackContent(){try{const e=this._content.features?JSON.parse(this._content.features):[];return`<div class="product-seo-content"><h2>${this._content.title||""}</h2><p>${this._content.description||""}</p>${e.length>0?`<ul>${e.map(e=>`<li>${e}</li>`).join("")}</ul>`:""} ${this._content["image-url"]?`<img src="${this._content["image-url"]}" alt="${this._content.title||"Product image"}" width="800" height="600" loading="lazy"/>`:""}</div>`}catch(e){return""}}getThemeStyles(){const e={default:"\n        .product-container {\n          background: white;\n          border-radius: 8px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          overflow: hidden;\n        }\n        .product-title {\n          font-size: 24px;\n          font-weight: 600;\n          color: #1a1a1a;\n        }\n        .product-description {\n          color: #4a4a4a;\n        }\n        .features-list li {\n          color: #4a4a4a;\n        }\n      ",modern:"\n        .product-container {\n          background: linear-gradient(145deg, #ffffff, #f5f5f5);\n          border-radius: 16px;\n          box-shadow: 20px 20px 60px #d9d9d9, -20px -20px 60px #ffffff;\n          overflow: hidden;\n        }\n        .product-title {\n          font-size: 28px;\n          font-weight: 700;\n          color: #2d3748;\n          letter-spacing: -0.5px;\n        }\n        .product-description {\n          color: #4a5568;\n          font-size: 17px;\n        }\n        .features-list li {\n          color: #4a5568;\n          position: relative;\n          padding-left: 24px;\n        }\n        .features-list li::before {\n          content: \"â†’\";\n          position: absolute;\n          left: 0;\n          color: #4299e1;\n        }\n      ",minimal:"\n        .product-container {\n          background: none;\n          border: 1px solid #e2e8f0;\n          border-radius: 0;\n          overflow: hidden;\n        }\n        .product-title {\n          font-size: 24px;\n          font-weight: 500;\n          color: #000;\n          border-bottom: 2px solid #000;\n          padding-bottom: 8px;\n          margin-bottom: 24px;\n        }\n        .product-description {\n          color: #2d3748;\n          font-size: 16px;\n          line-height: 1.8;\n        }\n        .features-list {\n          list-style-type: none;\n          padding: 0;\n        }\n        .features-list li {\n          color: #2d3748;\n          padding: 8px 0;\n          border-bottom: 1px solid #e2e8f0;\n        }\n      ",dark:"\n        .product-container {\n          background: #1a202c;\n          border-radius: 12px;\n          box-shadow: 0 4px 6px rgba(0,0,0,0.2);\n          overflow: hidden;\n        }\n        .product-title {\n          font-size: 26px;\n          font-weight: 600;\n          color: #fff;\n        }\n        .product-description {\n          color: #cbd5e0;\n        }\n        .features-list li {\n          color: #cbd5e0;\n        }\n        .features-list li::marker {\n          color: #4299e1;\n        }\n      ",elegant:"\n        .product-container {\n          background: #fff;\n          border: 1px solid #e2e8f0;\n          border-radius: 0;\n          box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);\n          overflow: hidden;\n          position: relative;\n        }\n        .product-container::before {\n          content: \"\";\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          height: 4px;\n          background: linear-gradient(90deg, #667eea, #764ba2);\n        }\n        .product-title {\n          font-size: 28px;\n          font-weight: 600;\n          color: #1a202c;\n          font-family: 'Georgia', serif;\n        }\n        .product-description {\n          color: #4a5568;\n          font-size: 16px;\n          line-height: 1.8;\n          font-family: 'Georgia', serif;\n        }\n        .features-list li {\n          color: #4a5568;\n          padding: 4px 0;\n          font-family: 'Georgia', serif;\n        }\n      "};return e[this._theme]||e.default}render(){const e=`:host{display:block;font-family:system-ui,-apple-system,sans-serif;max-width:800px;margin:0 auto;padding:20px;box-sizing:border-box}.product-seo-content{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.product-image{width:100%;height:auto;max-height:400px;object-fit:cover;display:block}.product-content{padding:20px}.product-title{margin:0 0 16px 0}.product-description{font-size:16px;line-height:1.6;margin:0 0 20px 0}.features-list{margin:0;padding:0 0 0 20px;list-style-position:outside}.features-list li{margin:8px 0}.error-message{color:#dc2626;padding:10px;background:#fee2e2;border-radius:4px;margin:10px 0}${this.getThemeStyles()}`;try{const t=this._content.features?JSON.parse(this._content.features):[];const n=document.createElement("script");n.type="application/ld+json",n.textContent=this.generateSchema(),document.head.appendChild(n),this.shadowRoot.innerHTML=`<style>${e}</style>${this.generateFallbackContent()}<article class="product-container" itemscope itemtype="https://schema.org/Product">${this._error?`<div class="error-message">${this._error}</div>`:""}${this._content["image-url"]?`<img class="product-image" src="${this._content["image-url"]}" alt="${this._content.title||"Product image"}" loading="lazy" itemprop="image">`:""}
<div class="product-content">${this._content.title?`<h2 class="product-title" itemprop="name">${this._content.title}</h2>`:""}${this._content.description?`<p class="product-description" itemprop="description">${this._content.description}</p>`:""}${t.length>0?`<ul class="features-list">${t.map(e=>`<li itemprop="additionalProperty" itemscope itemtype="https://schema.org/PropertyValue"><span itemprop="name">${e}</span></li>`).join("")}</ul>`:""}</div></article>`}catch(t){this._error="Error rendering product description: "+t.message,this.shadowRoot.innerHTML=`<style>${e}</style><div class="error-message">${this._error}</div>`}}}customElements.define("product-description",ProductDescription); 